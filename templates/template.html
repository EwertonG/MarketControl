<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>MarketControl</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet"/>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#4CAF50",
                        "primary-hover": "#43A047",
                        "danger": "#EF5350",
                        "danger-hover": "#E53935",
                        "background-light": "#F3F4F6",
                        "background-dark": "#111827",
                        "surface-light": "#FFFFFF",
                        "surface-dark": "#1F2937",
                        "text-main-light": "#1F2937",
                        "text-main-dark": "#F9FAFB",
                        "text-muted-light": "#6B7280",
                        "text-muted-dark": "#9CA3AF",
                        "border-light": "#E5E7EB",
                        "border-dark": "#374151",
                    },
                    fontFamily: {
                        display: ["Inter", "sans-serif"],
                        body: ["Inter", "sans-serif"],
                    },
                    borderRadius: {
                        DEFAULT: "0.5rem",
                        'xl': "1rem",
                        '2xl': "1.5rem",
                    },
                    boxShadow: {
                        'soft': '0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03)',
                    }
                },
            },
        };
    </script>
    <style>
        body { font-family: 'Inter', sans-serif; }
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #D1D5DB; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #9CA3AF; }
        .dark ::-webkit-scrollbar-thumb { background: #4B5563; }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark text-text-main-light dark:text-text-main-dark transition-colors duration-300 min-h-screen flex flex-col font-body">
    
    <nav class="bg-surface-light dark:bg-surface-dark shadow-sm border-b border-border-light dark:border-border-dark sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <a href="{{ url_for('index') }}" class="flex items-center text-primary font-bold text-2xl tracking-tight hover:text-primary-hover transition-colors">
                        <span class="material-icons-outlined mr-2">storefront</span>
                        MarketControl
                    </a>
                </div>
                <div class="flex items-center space-x-8">
                    <a href="{{ url_for('fornecedores') }}" 
                       class="px-3 py-2 rounded-md text-sm transition-colors font-semibold 
                       {% if request.endpoint in ['fornecedores', 'novo_fornecedor', 'editar_fornecedor'] %}
                           text-primary bg-green-50 dark:bg-green-900/20
                       {% else %}
                           text-text-main-light dark:text-text-main-dark hover:text-primary dark:hover:text-primary
                       {% endif %}">
                        Fornecedores
                    </a>
                    
                    <a href="{{ url_for('meus_produtos') }}" 
                       class="px-3 py-2 rounded-md text-sm transition-colors font-semibold 
                       {% if request.endpoint == 'meus_produtos' %}
                           text-primary bg-green-50 dark:bg-green-900/20
                       {% else %}
                           text-text-main-light dark:text-text-main-dark hover:text-primary dark:hover:text-primary
                       {% endif %}">
                        Meus Produtos
                    </a>
                    
                    <a href="{{ url_for('logout') }}" class="flex items-center text-text-muted-light dark:text-text-muted-dark hover:text-danger dark:hover:text-danger px-3 py-2 rounded-md text-sm font-medium transition-colors">
                        <span class="material-icons-outlined mr-1 text-lg">logout</span>
                        Logout
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4">
        {% with messages = get_flashed_messages() %}
            {% if messages %}
                <ul id="messages" class="list-unstyled mb-4">
                {% for message in messages %}
                    <li class="bg-green-100 border-l-4 border-primary text-green-700 p-4 rounded shadow-sm mb-2" role="alert">
                        <p class="font-bold">Sucesso</p>
                        <p>{{ message }}</p>
                    </li>
                {% endfor %}
                </ul>
            {% endif %}
        {% endwith %}
    </div>

    <main class="flex-grow max-w-7xl w-full mx-auto px-4 sm:px-6 lg:px-8 py-6">
        {% block page_header %}{% endblock %}
        {% block conteudo %}{% endblock %}
    </main>

    <footer class="bg-primary py-6 mt-auto">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row justify-between items-center text-white">
                <div class="mb-4 md:mb-0">
                    <p class="text-sm opacity-90">© 2026 MarketControl. Todos os direitos reservados.</p>
                </div>
                <div class="flex space-x-6 text-sm opacity-80">
                    <a class="hover:text-white hover:underline transition-all" href="#">Política de Privacidade</a>
                    <a class="hover:text-white hover:underline transition-all" href="#">Termos de Uso</a>
                    <a class="hover:text-white hover:underline transition-all" href="#">Suporte</a>
                </div>
            </div>
        </div>
    </footer>
</body>
</html>